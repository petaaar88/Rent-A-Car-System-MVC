<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Categories</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header th:replace="~{fragments/menu :: menu}"></header>

<div class="container mt-4">
    <h2>Categories</h2>
    <h3 class="my-3">Create Category</h3>
    <form th:action="@{/categories}" class="mb-3" method="post">
        <input type="text" name="name" placeholder="Category Name" class="form-control mb-2" required/>
        <input type="text" name="description" placeholder="Category Description" class="form-control mb-2" required/>
        <button type="submit" class="btn btn-primary">Create</button>
    </form>
    <div th:if="${createError}" th:text="${createErrorMessage}" class="alert alert-danger">
    </div>
    <div th:if="${deleteError}" class="alert alert-danger">
        Car category is associated with a car
    </div>
    <ul class="list-group mb-1">
        <li class="list-group-item" th:each="category : ${categories}">
            <p th:text="${category.name}"></p>
            <p th:text="${category.description}"></p>
            <form th:action="@{/categories/{id}/delete(id=${category.id})}" method="post">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </li>
    </ul>



</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>